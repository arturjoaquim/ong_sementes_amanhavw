<div class="bg-white rounded-lg border border-gray-200 p-6 mb-6">
  <div class="flex flex-col md:flex-row gap-4">
    <!-- Search input -->
    <div class="flex-1 flex gap-3">
      <div class="flex-1 relative">
        <lucide-icon
          [img]="icons.search"
          class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"
          size="18"
        />
        <input
          type="text"
          placeholder="Buscar oficina por nome..."
          [formControl]="nameSearchFilter"
          class="app-input pl-10"
        />
      </div>
      <button appButton (click)="searchByName()" class="bg-blue-600 hover:bg-blue-700">
        <lucide-icon [img]="icons.search" size="18" class="mr-2" />
        Buscar
      </button>
    </div>

    <!-- Action buttons -->
    <div class="flex gap-3">
      <button appButton variant="outline" (click)="openDialog()" class="relative">
        <lucide-icon [img]="icons.filter" size="18" class="mr-2" />
        Filtros
        @if (activeFilterCount > 0) {
          <app-badge contentClass="ml-2 h-5 px-1.5 bg-orange-500 text-white">
            {{ activeFilterCount }}
          </app-badge>
        }
      </button>

      <button appButton (click)="onAddWorkshop()" class="bg-blue-600 hover:bg-blue-700">
        <lucide-icon [img]="icons.plus" size="18" class="mr-2" />
        Adicionar Oficina
      </button>
    </div>
  </div>

  <!-- Active Filters Display -->
  @if (nameSearch || activeFilterCount > 0) {
    <div class="flex flex-wrap gap-2 mt-4 pt-4 border-t border-gray-200">
      <span class="text-sm text-gray-600">Filtros ativos:</span>
      @if (nameSearch) {
        <app-badge variant="secondary" contentClass="gap-1"> Nome: {{ nameSearch }} </app-badge>
      }
      @if (educatorSearch) {
        <app-badge variant="secondary" contentClass="gap-1">
          Educador: {{ educatorSearch }}
        </app-badge>
      }
      @if (type && type !== 'all') {
        <app-badge variant="secondary" contentClass="gap-1"> Tipo: {{ type }} </app-badge>
      }
      @if (status && status !== 'all') {
        <app-badge variant="secondary" contentClass="gap-1"> Status: {{ status }} </app-badge>
      }
      <button
        appButton
        variant="ghost"
        size="sm"
        (click)="resetFilters()"
        class="text-red-600 hover:text-red-700 hover:bg-red-50"
      >
        Limpar Filtros
      </button>
    </div>
  }
</div>
