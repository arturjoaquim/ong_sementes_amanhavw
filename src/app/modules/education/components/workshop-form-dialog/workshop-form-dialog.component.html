
<app-dialog contentClass="max-w-3xl max-h-[90vh] overflow-y-auto">
  <app-dialog-header>
    <app-dialog-title>{{ isEditMode ? 'Editar Oficina' : 'Nova Oficina' }}</app-dialog-title>
    <app-dialog-description>
      {{ isEditMode ? 'Atualize as informações da oficina' : 'Preencha os dados da nova oficina' }}
    </app-dialog-description>
  </app-dialog-header>

  <form [formGroup]="workshopForm" (ngSubmit)="onSubmit()" class="space-y-6 mt-4">
    <!-- Basic Information -->
    <div class="space-y-4">
      <h4 class="text-sm font-semibold text-gray-900">Informações Básicas</h4>

      <div class="grid grid-cols-1 gap-4">
        <mat-form-field class="w-full">
          <mat-label>Nome da Oficina</mat-label>
          <input matInput formControlName="name" required />
          <mat-error *ngIf="workshopForm.get('name')?.hasError('required')">
            Nome é obrigatório
          </mat-error>
        </mat-form-field>

        <mat-form-field class="w-full">
          <mat-label>Descrição</mat-label>
          <textarea matInput formControlName="description" rows="3" required></textarea>
          <mat-error *ngIf="workshopForm.get('description')?.hasError('required')">
            Descrição é obrigatória
          </mat-error>
        </mat-form-field>

        <div class="grid grid-cols-2 gap-4">
          <mat-form-field class="w-full">
            <mat-label>Tipo</mat-label>
            <mat-select formControlName="type" required>
              <mat-option *ngFor="let type of workshopTypes" [value]="type">
                {{ type }}
              </mat-option>
            </mat-select>
            <mat-error *ngIf="workshopForm.get('type')?.hasError('required')">
              Tipo é obrigatório
            </mat-error>
          </mat-form-field>

          <mat-form-field class="w-full">
            <mat-label>Status</mat-label>
            <mat-select formControlName="status" required>
              <mat-option value="active">Ativa</mat-option>
              <mat-option value="inactive">Inativa</mat-option>
              <mat-option value="completed">Concluída</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>
    </div>

    <!-- Educator and Capacity -->
    <div class="space-y-4">
      <h4 class="text-sm font-semibold text-gray-900">Educador e Capacidade</h4>

      <div class="grid grid-cols-2 gap-4">
        <mat-form-field class="w-full">
          <mat-label>Nome do Educador</mat-label>
          <input matInput formControlName="educatorName" required />
          <mat-error *ngIf="workshopForm.get('educatorName')?.hasError('required')">
            Nome do educador é obrigatório
          </mat-error>
        </mat-form-field>

        <mat-form-field class="w-full">
          <mat-label>Máximo de Participantes</mat-label>
          <input matInput type="number" formControlName="maxParticipants" required />
          <mat-error *ngIf="workshopForm.get('maxParticipants')?.hasError('required')">
            Máximo de participantes é obrigatório
          </mat-error>
        </mat-form-field>
      </div>
    </div>

    <!-- Location and Dates -->
    <div class="space-y-4">
      <h4 class="text-sm font-semibold text-gray-900">Local e Datas</h4>

      <div class="grid grid-cols-1 gap-4">
        <mat-form-field class="w-full">
          <mat-label>Local</mat-label>
          <input matInput formControlName="location" required />
          <mat-error *ngIf="workshopForm.get('location')?.hasError('required')">
            Local é obrigatório
          </mat-error>
        </mat-form-field>

        <div class="grid grid-cols-2 gap-4">
          <mat-form-field class="w-full">
            <mat-label>Data de Início</mat-label>
            <input matInput type="date" formControlName="startDate" required />
            <mat-error *ngIf="workshopForm.get('startDate')?.hasError('required')">
              Data de início é obrigatória
            </mat-error>
          </mat-form-field>

          <mat-form-field class="w-full">
            <mat-label>Data de Término (opcional)</mat-label>
            <input matInput type="date" formControlName="endDate" />
          </mat-form-field>
        </div>

        <mat-form-field class="w-full">
          <mat-label>URL da Lista de Presença (opcional)</mat-label>
          <input matInput type="url" formControlName="attendanceListUrl" />
        </mat-form-field>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="flex justify-end gap-3 pt-4 border-t">
      <button appButton type="button" variant="outline" (click)="cancel()">
        Cancelar
      </button>
      <button appButton type="submit" [disabled]="!workshopForm.valid">
        {{ isEditMode ? 'Atualizar' : 'Criar' }}
      </button>
    </div>
  </form>
</app-dialog>
