<div class="bg-white rounded-lg border border-gray-200 p-6 mb-6">
  <div class="flex flex-col md:flex-row gap-4">
    <!-- {/* Search input */} -->
    <div class="flex-1 flex gap-3">
      <div class="flex-1 relative">
        <lucide-icon
          [img]="icons.search"
          class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"
          size="18"
        />
        <input
          type="text"
          placeholder="Buscar estudante por nome..."
          [formControl]="nameSearchFilter"
          class="app-input pl-10"
        />
      </div>
      <button appButton (click)="searchByName()" class="bg-green-600 hover:bg-green-700">
        <lucide-icon [img]="icons.search" size="18" class="mr-2" />
        Buscar
      </button>
    </div>

    <!-- {/* Action buttons */} -->
    <div class="flex gap-3">
      <button appButton variant="outline" (click)="openDialog()" class="relative">
        <lucide-icon [img]="icons.filter" size="18" class="mr-2" />
        Filtros
        @if (activeFilterCount > 0) {
          <app-badge contentClass="ml-2 h-5 px-1.5 bg-orange-500 text-white">
            {{ activeFilterCount }}
          </app-badge>
        }
      </button>
      <ng-content></ng-content>
    </div>
  </div>

  <!-- {/* Active Filters Display */} -->
  @if (nameSearch || activeFilterCount > 0) {
    <div class="flex flex-wrap gap-2 mt-4 pt-4 border-t border-gray-200">
      <span class="text-sm text-gray-600">Active filters:</span>
      @if (nameSearch) {
        <app-badge variant="secondary" contentClass="gap-1"> Nome: {{ nameSearch }} </app-badge>
      }
      @if (guardianSearch) {
        <app-badge variant="secondary" contentClass="gap-1">
          Responsável: {{ guardianSearch }}
        </app-badge>
      }
      <!--@if (gradeLevel && gradeLevel !== 'all') {
        <app-badge variant="secondary" contentClass="gap-1"> Série: {{ gradeLevel }} </app-badge>
      }-->
      @if (status && status !== 'all') {
        <app-badge variant="secondary" contentClass="gap-1"> Status: {{ status }} </app-badge>
      }
      @if (ageMin) {
        <app-badge variant="secondary" contentClass="gap-1"> Idade mínima: {{ ageMin }} </app-badge>
      }
      @if (ageMax) {
        <app-badge variant="secondary" contentClass="gap-1"> Idade máxima: {{ ageMax }} </app-badge>
      }
      <button
        appButton
        variant="ghost"
        size="sm"
        (click)="resetFilters()"
        class="text-red-600 hover:text-red-700 hover:bg-red-50"
      >
        Limpar Filtros
      </button>
    </div>
  }
</div>
