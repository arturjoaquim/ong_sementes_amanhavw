<app-dialog contentClass="sm:max-w-3xl max-h-[90vh] overflow-y-auto">
  <app-dialog-header>
    <app-dialog-title>Detalhes do Estudante</app-dialog-title>
    <app-dialog-description>
      Visualize as informações completas do estudante
    </app-dialog-description>
  </app-dialog-header>

  <!-- Student Header -->
  <div class="flex items-start gap-6 mt-4">
    <app-avatar contentClass="h-20 w-20">
      <img class="app-avatar-image" [src]="student().avatar" [alt]="name" />
      <app-avatar-fallback>{{ getInitials(name) }}</app-avatar-fallback>
    </app-avatar>

    <div class="flex-1">
      <div class="flex items-start justify-between">
        <div>
          <h3 class="text-xl font-semibold text-gray-900">{{ name }}</h3>
          <p class="text-gray-600 mt-1">ID: {{ student().id }}</p>
        </div>
        <app-badge [contentClass]="getStatusColor(student().status)">
          {{
            student().status === 'active'
              ? 'Ativo'
              : student().status === 'inactive'
                ? 'Inativo'
                : 'Graduado'
          }}
        </app-badge>
      </div>

      <div class="grid grid-cols-3 gap-4 mt-4">
        <div>
          <p class="text-xs text-gray-500">Série/Ano</p>
          <p class="text-sm text-gray-900 mt-1">Não definido</p>
        </div>
        <div>
          <p class="text-xs text-gray-500">Idade</p>
          <p class="text-sm text-gray-900 mt-1">{{ age }} anos</p>
        </div>
        <div>
          <p class="text-xs text-gray-500">Taxa de Frequência</p>
          <p class="text-sm mt-1" [ngClass]="getAttendanceColor(student().attendance)">
            {{ student().attendance }}%
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- Tabs Navigation -->
  <div class="mt-6">
    <app-tabs
      [tabs]="dialogTabs"
      [activeTab]="activeTab"
      (tabChange)="setActiveTab($event)"
    ></app-tabs>
  </div>

  <div class="mt-6">
    <!-- Tab: Dados Gerais -->
    @if (activeTab === 'general') {
      <app-student-general-detail [student]="student"></app-student-general-detail>
    }

    <!-- Tab: Família -->
    @if (activeTab === 'family') {
      <app-student-family-detail [student]="student"></app-student-family-detail>
    }

    <!-- Tab: Saúde -->
    @if (activeTab === 'health') {
      <app-student-health-detail [student]="student"></app-student-health-detail>
    }

    <!-- Tab: Acadêmico -->
    @if (activeTab === 'academic') {
      <app-student-academic-detail [student]="student"></app-student-academic-detail>
    }

    <!-- Tab: Social -->
    @if (activeTab === 'social') {
      <app-student-social-detail [student]="student"></app-student-social-detail>
    }
  </div>
</app-dialog>
