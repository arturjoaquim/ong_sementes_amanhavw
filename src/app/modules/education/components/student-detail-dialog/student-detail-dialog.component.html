<app-dialog contentClass="max-w-4xl max-h-[90vh] overflow-y-auto">
  <app-dialog-header>
    <app-dialog-title>Detalhes do Estudante</app-dialog-title>
    <app-dialog-description>
      Visualize as informações completas do estudante
    </app-dialog-description>
  </app-dialog-header>

  <!-- Student Header -->
  <div class="flex items-start gap-6 pb-6 border-b border-gray-200 mt-4">
    <app-avatar class="h-20 w-20">
      <img class="app-avatar-image" [src]="student.avatar" [alt]="student.name" />
      <app-avatar-fallback>{{ getInitials(student.name) }}</app-avatar-fallback>
    </app-avatar>

    <div class="flex-1">
      <div class="flex items-start justify-between">
        <div>
          <h3 class="text-xl font-semibold text-gray-900">{{ student.name }}</h3>
          <p class="text-gray-600 mt-1">ID: {{ student.id }}</p>
        </div>
        <app-badge [ngClass]="getStatusColor(student.status)">
          {{ student.status === 'active' ? 'Ativo' : student.status === 'inactive' ? 'Inativo' : 'Graduado' }}
        </app-badge>
      </div>

      <div class="grid grid-cols-3 gap-4 mt-4">
        <div>
          <p class="text-xs text-gray-500">Série/Ano</p>
          <p class="text-sm text-gray-900 mt-1">{{ student.grade }}</p>
        </div>
        <div>
          <p class="text-xs text-gray-500">Idade</p>
          <p class="text-sm text-gray-900 mt-1">{{ student.age }} anos</p>
        </div>
        <div>
          <p class="text-xs text-gray-500">Taxa de Frequência</p>
          <p class="text-sm mt-1" [ngClass]="getAttendanceColor(student.attendance)">
            {{ student.attendance }}%
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- Basic Information -->
  <div class="space-y-4 mt-6">
    <app-card class="p-6">
      <h4 class="text-base font-semibold text-gray-900 mb-4">Informações Pessoais</h4>
      <div class="grid grid-cols-2 gap-6">
        <div class="flex items-start gap-3">
          <div class="bg-green-50 p-2 rounded-lg">
            <lucide-icon [img]="icons.user" [size]="18" class="text-green-600"></lucide-icon>
          </div>
          <div>
            <p class="text-xs text-gray-500">Nome Completo</p>
            <p class="text-sm text-gray-900 mt-1">{{ student.name }}</p>
          </div>
        </div>

        <div class="flex items-start gap-3">
          <div class="bg-orange-50 p-2 rounded-lg">
            <lucide-icon [img]="icons.calendar" [size]="18" class="text-orange-600"></lucide-icon>
          </div>
          <div>
            <p class="text-xs text-gray-500">Data de Nascimento</p>
            <p class="text-sm text-gray-900 mt-1">{{ 2025 - student.age }} anos</p>
          </div>
        </div>

        <div class="flex items-start gap-3" *ngIf="student.cpf">
          <div class="bg-blue-50 p-2 rounded-lg">
            <lucide-icon [img]="icons.fileText" [size]="18" class="text-blue-600"></lucide-icon>
          </div>
          <div>
            <p class="text-xs text-gray-500">CPF</p>
            <p class="text-sm text-gray-900 mt-1">{{ student.cpf }}</p>
          </div>
        </div>

        <div class="flex items-start gap-3" *ngIf="student.placeOfBirth">
          <div class="bg-green-50 p-2 rounded-lg">
            <lucide-icon [img]="icons.mapPin" [size]="18" class="text-green-600"></lucide-icon>
          </div>
          <div>
            <p class="text-xs text-gray-500">Local de Nascimento</p>
            <p class="text-sm text-gray-900 mt-1">{{ student.placeOfBirth }}</p>
          </div>
        </div>

        <div class="flex items-start gap-3">
          <div class="bg-purple-50 p-2 rounded-lg">
            <lucide-icon [img]="icons.calendar" [size]="18" class="text-purple-600"></lucide-icon>
          </div>
          <div>
            <p class="text-xs text-gray-500">Data de Matrícula</p>
            <p class="text-sm text-gray-900 mt-1">{{ student.enrollmentDate }}</p>
          </div>
        </div>
      </div>
    </app-card>

    <!-- Guardian Information -->
    <app-card class="p-6">
      <h4 class="text-base font-semibold text-gray-900 mb-4">Responsável</h4>
      <div class="grid grid-cols-2 gap-6">
        <div class="flex items-start gap-3">
          <div class="bg-green-50 p-2 rounded-lg">
            <lucide-icon [img]="icons.userCircle" [size]="18" class="text-green-600"></lucide-icon>
          </div>
          <div>
            <p class="text-xs text-gray-500">Nome do Responsável</p>
            <p class="text-sm text-gray-900 mt-1">{{ student.guardian }}</p>
          </div>
        </div>

        <div class="flex items-start gap-3">
          <div class="bg-blue-50 p-2 rounded-lg">
            <lucide-icon [img]="icons.phone" [size]="18" class="text-blue-600"></lucide-icon>
          </div>
          <div>
            <p class="text-xs text-gray-500">Telefone</p>
            <p class="text-sm text-gray-900 mt-1">{{ student.guardianPhone }}</p>
          </div>
        </div>
      </div>
    </app-card>

    <!-- Family Information -->
    <app-card class="p-6" *ngIf="student.familyData">
      <h4 class="text-base font-semibold text-gray-900 mb-4">Informações Familiares</h4>
      <div *ngIf="student.familyData.members && student.familyData.members.length > 0" class="space-y-3">
        <div *ngFor="let member of student.familyData.members" 
             class="p-4 bg-gray-50 rounded-lg border border-gray-200">
          <div class="grid grid-cols-4 gap-4">
            <div>
              <p class="text-xs text-gray-500 mb-1">Nome</p>
              <p class="text-sm text-gray-900">{{ member.name }}</p>
            </div>
            <div>
              <p class="text-xs text-gray-500 mb-1">Relação</p>
              <p class="text-sm text-gray-900">{{ member.relationship }}</p>
            </div>
            <div>
              <p class="text-xs text-gray-500 mb-1">Profissão</p>
              <p class="text-sm text-gray-900">{{ member.profession || 'Não especificado' }}</p>
            </div>
            <div>
              <p class="text-xs text-gray-500 mb-1">Renda</p>
              <p class="text-sm text-gray-900">{{ member.income ? 'R$ ' + member.income : 'Não especificado' }}</p>
            </div>
          </div>
        </div>
      </div>
      <p *ngIf="!student.familyData.members || student.familyData.members.length === 0" 
         class="text-sm text-gray-600">
        Nenhum membro familiar registrado
      </p>
    </app-card>

    <!-- Medical Information -->
    <app-card class="p-6" *ngIf="student.medicalData">
      <h4 class="text-base font-semibold text-gray-900 mb-4">Informações Médicas</h4>
      <div class="space-y-4">
        <div class="flex items-start gap-3 p-3 bg-gray-50 rounded-lg" *ngIf="student.medicalData.physicalActivityRestrictions">
          <div>
            <p class="text-xs text-gray-500 mb-1">Restrições de Atividade Física</p>
            <p class="text-sm text-gray-900">{{ student.medicalData.physicalActivityRestrictions || 'Nenhuma' }}</p>
          </div>
        </div>

        <div class="flex items-start gap-3 p-3 bg-gray-50 rounded-lg" *ngIf="student.medicalData.dietaryRestrictions">
          <div>
            <p class="text-xs text-gray-500 mb-1">Restrições Alimentares</p>
            <p class="text-sm text-gray-900">{{ student.medicalData.dietaryRestrictions || 'Nenhuma' }}</p>
          </div>
        </div>

        <div class="flex items-start gap-3 p-3 bg-red-50 rounded-lg border border-red-200" *ngIf="student.medicalData.allergies">
          <div>
            <p class="text-xs text-gray-500 mb-1">Alergias</p>
            <p class="text-sm text-gray-900">{{ student.medicalData.allergies || 'Nenhuma' }}</p>
          </div>
        </div>
      </div>
    </app-card>
  </div>
</app-dialog>
