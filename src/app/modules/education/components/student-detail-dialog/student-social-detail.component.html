<div class="flex flex-col space-y-4">
  <app-card contentClass="p-6">
    <app-section-header [showEditButton]="false">Interações Sociais</app-section-header>

    @if (socialInteractions && socialInteractions.length > 0) {
      <div class="space-y-4">
        @for (interaction of socialInteractions; track interaction.id) {
          <div class="p-4 border border-gray-200 rounded-lg bg-gray-50/50">
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-3">
                <lucide-icon
                  [name]="icons['users']"
                  [size]="16"
                  class="text-gray-500"
                ></lucide-icon>
                <span class="font-medium text-gray-800">
                  {{ getSocialGroupName(interaction.socialGroupId) }}
                </span>
              </div>
              <span
                class="px-2 py-1 text-xs font-medium rounded-full"
                [ngClass]="getInteractionBadgeColor(interaction.interactionLevelId)"
              >
                {{ getInteractionLevel(interaction.interactionLevelId) }}
              </span>
            </div>
            @if (
              interaction.socialInteractionPlace && interaction.socialInteractionPlace.length > 0
            ) {
              <div class="mt-2 pt-2 border-t border-gray-200">
                <p class="text-xs text-gray-500">Locais de interação:</p>
                <p class="text-sm text-gray-700">
                  {{ getPlaceNames(interaction.socialInteractionPlace) }}
                </p>
              </div>
            }
          </div>
        }
      </div>
    } @else {
      <p class="text-sm text-gray-600 text-center py-4">Nenhuma interação social registrada.</p>
    }
  </app-card>

  <!-- Atividades Sociais -->
  <app-card contentClass="p-6">
    <app-section-header [showEditButton]="false">Atividades Sociais</app-section-header>
    @if (student().socialActivities && student().socialActivities.length > 0) {
      <div class="space-y-4">
        @for (activity of student().socialActivities; track activity.id) {
          <div class="p-4 border border-gray-200 rounded-lg bg-gray-50/50">
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-3">
                <lucide-icon
                  [name]="icons['toyBrick']"
                  [size]="16"
                  class="text-gray-500"
                ></lucide-icon>
                <span class="font-medium text-gray-800">
                  {{ activity.name }}
                </span>
              </div>
              <span class="px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-700">
                {{ getSocialActivityTypeName(activity.socialActivityTypeId) }}
              </span>
            </div>
            <div class="mt-2 pt-2 border-t border-gray-200">
              <p class="text-sm text-gray-700">{{ activity.description }}</p>
            </div>
          </div>
        }
      </div>
    } @else {
      <p class="text-sm text-gray-600 text-center py-4">Nenhuma atividade registrada.</p>
    }
    <div class="flex justify-end">
      <button appButton (click)="addSocialActivity()" class="cursor-pointer" variant="outline">
        Adicionar Atividade
      </button>
    </div>
  </app-card>
</div>
